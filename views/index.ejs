<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./head');%>
</head>
<style>#myHeader {
  font-size: 32px;
  
  opacity: 0;
  white-space: nowrap;
  margin-left: 140px;
  
  animation: letterReveal 2s linear forwards;
}

@keyframes letterReveal {
  0% {
    opacity: 0;
    width: 0;
  }
  100% {
    opacity: 1;
    width: 80%;
  }
}</style>
<body style = "background-color: #323437;"class="text-center d-flex flex-column h-100">
  <h1 style=" margin-top: 50px;color:white; font-size: 50px; font-family: Vazirmatn; width: 100%;; max-width: 10000px;" class="bg-secondary p-3 mb-5"><b>Tally-Bitrisers' Arena</b></h1>
<main class="flex-shrink-0 form-signin w-100 m-auto ">
  <h1 id="myHeader" style="
    margin-top: 90px; margin-bottom: 100px; font-family: Roboto Mono; color: white;"class="bg-secondary p-3 mb-5">Practice to Type.<br>
               Broaden Your Horizons.</h1>
               <form>
                <div class="form-group">
                  <label style="color: white;" for="InputName1">Name</label>
                  <input style="width: 15%;margin-left: 655px;" type="name" class="form-control" id="InputName1" aria-describedby="nameHelp" placeholder="Enter name">
                </div>
                <br>
                <div class="form-group">
                  <label style="color: white;"  for="InputLevel1">Difficulty Level</label>
                  <input style="width: 15%;margin-left: 655px;" type="test" class="form-control" id="InputLevel1" placeholder="Enter Difficulty Level">
                </div>
                <!-- <button type="button" class="btn btn-primary" id="submit">Submit</button> -->
              </form>
  <div class="jumbotron  w-100 m-auto">
    <a style="margin-top: 100px; margin-right: 50px; width: 200px; font-family: Vazirmatn;" class="btn btn-primary" href="/solo" id="submit">Practice</a>
    <a style="margin-top: 100px; margin-right: 50px; width: 200px; font-family: Vazirmatn;" class="btn btn-danger" href="/multiplayer" id="submit">Compete</a>
  </div>
</main>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
<!-- Include the Socket.io-client library -->
<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>

<% script.forEach(function (item) { %>
  <script src=<%=item.item %>></script>
<% }) %>
<footer>
  <%- include('./footer'); %>
</footer>
<script>
  // Function to generate a random tab ID
  function generateUniqueTabId() {
      const array = new Uint32Array(1);
      window.crypto.getRandomValues(array);
      return array[0].toString(36);
    }

    function getTabId() {
      let tabId = sessionStorage.getItem("tabId");
      console.log(tabId);
      if (!tabId) {
        tabId = generateUniqueTabId();
        sessionStorage.setItem("tabId", tabId);
      }
      return tabId;
    }
  // Generate a unique tab ID for this tab
  const tabId = generateUniqueTabId(); // Implement the function to generate a unique tab ID
  
  
  document.getElementById('submit').addEventListener('click',function() {
  // console.log(localStorage.getItem(`name-${sessionStorage.getItem('tabId')}`));
  //Notify other tabs about the update
      window.postMessage("localStorageUpdated", "*");
      
      sessionStorage.setItem(`name`,document.getElementById("InputName1").value);
      sessionStorage.setItem(`difficultyLevel`,document.getElementById('InputLevel1').value);
  })
</script>

</body>

</html>